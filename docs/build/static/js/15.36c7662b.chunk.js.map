{"version":3,"sources":["pages/FindShop/FindShop.js"],"names":["FindShop","_useState","useState","_useState2","_slicedToArray","isMobileProductListOpen","setIsMobileProductListOpen","iframeRef","createRef","_useState3","_useState4","height","setHeight","handleResize","current","setTimeout","contentDocument","droContainerHeight","querySelector","scrollHeight","useEffect","window","addEventListener","scrollTo","removeEventListener","_jsxs","children","_jsx","NavBar","onClose","className","ref","onLoad","ReactGA","event","category","action","src","concat","process","frameBorder","title","id","allowFullScreen","style","width","maxWidth","margin","Footer"],"mappings":"gMAkHeA,UA5Gf,WACE,IAAAC,EAA8DC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtEI,EAAuBF,EAAA,GAAEG,EAA0BH,EAAA,GAEpDI,EAAYC,sBAClBC,EAA4BP,mBAAS,SAAQQ,EAAAN,YAAAK,EAAA,GAAtCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAMlBG,EAAe,WACfN,EAAUO,SACZC,YAAW,WACT,GAAIR,EAAUO,QAAQE,gBAAiB,CACrC,IAAMC,EACJV,EAAUO,QAAQE,gBAAgBE,cAChC,kBACAC,aACJP,EAAUK,EAAqB,KACjC,CACF,GAAG,IAEP,EA0DA,OARAG,qBAAU,WAIR,OAHAC,OAAOC,iBAAiB,SAAUT,GAClCQ,OAAOE,SAAS,EAAG,GAEZ,kBAAMF,OAAOG,oBAAoB,SAAUX,EAAc,CAElE,GAAG,IAGDY,eAAA,OAAAC,SAAA,CACEC,cAACC,IAAM,CACLvB,wBAAyBA,EACzBwB,QA9EoB,WACxBvB,GAA2B,EAC7B,IA8EIqB,cAAA,OAAKG,UAAU,uBAAsBJ,SACnCC,cAAA,UACEI,IAAKxB,EACLyB,OAjEW,WACbzB,EAAUO,SACZC,YAAW,WACT,GAAIR,EAAUO,QAAQE,gBAAiB,CAEnCT,EAAUO,QAAQE,gBAAgBE,cAAc,qBAEhCI,iBAAiB,SAAS,WAK1CW,IAAQC,MAJG,CACTC,SAAU,eACVC,OAAQ,kCAGZ,IAGE7B,EAAUO,QAAQE,gBAAgBE,cAAc,wBAEnCI,iBAAiB,SAAS,WAKvCW,IAAQC,MAJG,CACTC,SAAU,eACVC,OAAQ,uBAGZ,IAGE7B,EAAUO,QAAQE,gBAAgBE,cAAc,wBAE5BI,iBAAiB,SAAS,WAK9CW,IAAQC,MAJG,CACTC,SAAU,eACVC,OAAQ,uBAGZ,IAEA,IAAMnB,EACJV,EAAUO,QAAQE,gBAAgBE,cAChC,kBACAC,aACJP,EAAUK,EAAqB,IAAM,KACvC,CAEF,GAAG,IAEP,EAoBQoB,IAAG,GAAAC,OAAKC,IAAsB,kBAC9BC,YAAY,IACZC,MAAM,WACNC,GAAG,WACHC,iBAAe,EACfC,MAAO,CACLC,MAAO,OACPC,SAAU,SACVnC,SACAoC,OAAQ,cAIdpB,cAACqB,IAAM,MAGb,C","file":"static/js/15.36c7662b.chunk.js","sourcesContent":["import React, { useState, createRef, useEffect } from \"react\";\nimport ReactGA from \"react-ga\";\nimport NavBar from \"../../components/NavBar/NavBar\";\nimport Footer from \"../../components/Footer/Footer\";\nimport \"./FindShop.scss\";\n\nfunction FindShop() {\n  const [isMobileProductListOpen, setIsMobileProductListOpen] = useState(false);\n\n  const iframeRef = createRef();\n  const [height, setHeight] = useState(\"770px\");\n\n  const handleCloseNavbar = () => {\n    setIsMobileProductListOpen(false);\n  };\n\n  const handleResize = () => {\n    if (iframeRef.current) {\n      setTimeout(() => {\n        if (iframeRef.current.contentDocument) {\n          const droContainerHeight =\n            iframeRef.current.contentDocument.querySelector(\n              \".dro-container\"\n            ).scrollHeight;\n          setHeight(droContainerHeight + \"px\");\n        }\n      }, 300);\n    }\n  };\n\n  const handleLoad = () => {\n    if (iframeRef.current) {\n      setTimeout(() => {\n        if (iframeRef.current.contentDocument) {\n          const nearestShopButton =\n            iframeRef.current.contentDocument.querySelector(\".dro-find-nearest\");\n\n          nearestShopButton.addEventListener(\"click\", () => {\n            const ev = {\n              category: 'Znajdz sklep',\n              action: 'Znajdz najblizszy sklep - mapa'\n            }\n            ReactGA.event(ev);\n          });\n\n          const findShopButton =\n            iframeRef.current.contentDocument.querySelector(\".dro-btn.dro-md-flex\");\n\n          findShopButton.addEventListener(\"click\", () => {\n            const ev = {\n              category: 'Znajdz sklep',\n              action: 'Znajdz sklep - mapa'\n            }\n            ReactGA.event(ev);\n          });\n\n          const findShopShortButton =\n            iframeRef.current.contentDocument.querySelector(\".dro-btn.dro-md-none\");\n\n            findShopShortButton.addEventListener(\"click\", () => {\n            const ev = {\n              category: 'Znajdz sklep',\n              action: 'Znajdz sklep - mapa'\n            }\n            ReactGA.event(ev);\n          });\n\n          const droContainerHeight =\n            iframeRef.current.contentDocument.querySelector(\n              \".dro-container\"\n            ).scrollHeight;\n          setHeight(droContainerHeight + 100 + \"px\");\n        }\n\n      }, 100);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    window.scrollTo(0, 0);\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div>\n      <NavBar\n        isMobileProductListOpen={isMobileProductListOpen}\n        onClose={handleCloseNavbar}\n      />\n      <div className=\"findShopMapContainer\">\n        <iframe\n          ref={iframeRef}\n          onLoad={handleLoad}\n          src={`${process.env.PUBLIC_URL}/findShop.html`}\n          frameBorder=\"0\"\n          title=\"findShop\"\n          id=\"findShop\"\n          allowFullScreen\n          style={{\n            width: \"100%\",\n            maxWidth: \"1030px\",\n            height,\n            margin: \"0 auto\",\n          }}\n        ></iframe>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default FindShop;\n"],"sourceRoot":""}